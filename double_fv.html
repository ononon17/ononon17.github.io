<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>æµè§ˆé¡µé¢</title>
<style>
/* --- 1. å…¨å±€è®¾ç½® --- */
*{box-sizing:border-box;margin:0;padding:0;-webkit-tap-highlight-color:transparent;}
body{background-color:#f6f7f9;color:#333;font-family:-apple-system, sans-serif; overflow: hidden; height: 100vh; width: 100vw; position: fixed;}

/* å®¹å™¨è¿‡æ¸¡åŠ¨ç”» */
.page-container { position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow-y: auto; -webkit-overflow-scrolling: touch; transition: transform 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94); }
#grid-page-container { z-index: 1; background-color:#f6f7f9; padding: 10px; padding-bottom: 80px; }
#fullscreen-page-container { z-index: 2; background-color:#000; transform: translateX(100%); scroll-snap-type: y mandatory; overflow-y: scroll; height: 100vh; }
#fullscreen-page-container.active { transform: translateX(0); }
#fullscreen-page-container::-webkit-scrollbar { display: none; }

/* --- 2. é¦–é¡µç½‘æ ¼å¸ƒå±€ --- */
#grid-feed { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
.grid-item { background: #fff; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 6px rgba(0,0,0,0.05); position: relative; transition: transform 0.1s; }
.grid-item:active { transform: scale(0.98); opacity: 0.9; } /* ç‚¹å‡»åé¦ˆ */
.grid-video-wrapper { position: relative; width: 100%; padding-bottom: 133%; background: #000; pointer-events: none; }
.grid-video-wrapper video { position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover; }
.grid-play-icon { position: absolute; top: 10px; right: 10px; color: rgba(255,255,255,0.9); font-size: 16px; text-shadow: 0 1px 2px rgba(0,0,0,0.5); }
.card-footer { padding: 10px; }
.video-desc-grid { font-size: 13px; line-height: 1.4; height: 36px; overflow: hidden; margin-bottom: 8px; font-weight: 500; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; }

/* --- 3. å…¨å±æ²‰æµ¸é¡µå¸ƒå±€ --- */
.fs-video-item { position:relative; width:100vw; height:100vh; scroll-snap-align: start; scroll-snap-stop: always; display:flex; justify-content:center; align-items:center; background:#000; }
.fs-video-item video { width:100%; height:100%; object-fit:cover; }

/* æ–°å¢ï¼šæ’­æ”¾/æš‚åœ ä¸­å¤®å›¾æ ‡ */
.play-pause-icon {
    position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
    width: 70px; height: 70px; background: rgba(0, 0, 0, 0.4); border-radius: 50%;
    display: flex; justify-content: center; align-items: center;
    color: white; font-size: 30px; pointer-events: none;
    opacity: 0; transition: opacity 0.2s; z-index: 5;
}
.fs-video-item.paused .play-pause-icon { opacity: 1; }

/* ç‚¹å‡»äº¤äº’å±‚ */
.click-layer { position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 1; }

.overlay { position:absolute; bottom:0; left:0; width:100%; padding:40px 15px; background:linear-gradient(to top, rgba(0,0,0,0.8), transparent); pointer-events:none; color:#fff; z-index: 2; }
.sidebar-fs { position:absolute; right:10px; bottom:120px; display:flex; flex-direction:column; gap:22px; pointer-events:auto; z-index: 10;}

/* ä¾§è¾¹æ æŒ‰é’® - ğŸ”´ ä¿®å¤ï¼šåˆå§‹å¼ºåˆ¶ç™½è‰² */
.icon-btn-fs { 
    width:48px; height:48px; background:rgba(255,255,255,0.15); border-radius:50%; 
    display:flex; justify-content:center; align-items:center; font-size:22px; 
    backdrop-filter:blur(10px); color: #ffffff; cursor:pointer;
    transition: transform 0.1s, color 0.2s; 
}
.icon-btn-fs:active { transform: scale(0.85); background:rgba(255,255,255,0.3); }

/* çº¢å¿ƒæ¿€æ´»æ•ˆæœ - ğŸ”´ ä¿®å¤ï¼šç‚¹å‡»å˜çº¢ */
.heart-btn.liked { color: #ff2442 !important; animation: heartBeat 0.3s ease-in-out; }
@keyframes heartBeat { 0% { transform: scale(1); } 50% { transform: scale(1.3); } 100% { transform: scale(1); } }

/* æ‚¬æµ®æ§åˆ¶æŒ‰é’® */
.floating-finish-btn { position: fixed; right: 20px; bottom: 30px; z-index: 999; width: 55px; height: 55px; background: #25D366; color: white; border-radius: 50%; display: flex; flex-direction: column; align-items: center; justify-content: center; font-size: 12px; font-weight: bold; cursor: pointer; box-shadow: 0 4px 10px rgba(0,0,0,0.2); }
.back-btn-global { position: fixed; top: 40px; left: 20px; z-index: 999; width: 38px; height: 38px; background: rgba(0,0,0,0.4); border-radius: 50%; display: none; align-items: center; justify-content: center; color: white; cursor: pointer; border: 1px solid rgba(255,255,255,0.2); }

/* --- ğŸ”´ ä¿®å¤ï¼šå¸¦å…³é—­åŠŸèƒ½çš„å¼¹çª— --- */
#result-modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.85); z-index: 10000; justify-content: center; align-items: center; }
.modal-content { background: #fff; padding: 30px; border-radius: 15px; width: 85%; max-width: 320px; text-align: center; position: relative; }
.close-modal-btn { position: absolute; top: 10px; right: 15px; font-size: 28px; color: #999; cursor: pointer; line-height: 1; padding: 5px; }
.code-box { background: #f0f0f0; padding: 15px; margin: 15px 0; font-weight: bold; font-size: 18px; word-break: break-all; border-radius: 8px; border: 1px dashed #ccc;}
</style>
</head>
<body>

<div id="grid-page-container" class="page-container">
    <div id="grid-feed"></div>
</div>

<div id="fullscreen-page-container" class="page-container">
    <div id="fullscreen-feed"></div>
</div>

<div id="global-finish-btn" class="floating-finish-btn" onclick="openModal()">âœ”<br>ç»“æŸ</div>
<div id="global-back-btn" class="back-btn-global" onclick="exitFullScreen()">â®</div>

<div id="result-modal">
    <div class="modal-content">
        <div class="close-modal-btn" onclick="closeModal()">Ã—</div> <h3 style="margin-bottom:10px; margin-top:5px;">å®éªŒç»“æŸ</h3>
        <p style="font-size:13px; color:#666; margin-bottom:10px;">è¯·å¤åˆ¶ä¸‹æ–¹éªŒè¯ç å¹¶è¿”å›é—®å·ï¼š</p>
        <div class="code-box" id="code-display"></div>
        <button onclick="copyCode()" style="width:100%; padding:12px; background:#25D366; color:white; border:none; border-radius:8px; font-weight:bold;">å¤åˆ¶éªŒè¯ç </button>
    </div>
</div>

<script>
// --- 1. æ•°æ®å®šä¹‰ (ä¸å•åˆ—ç‰ˆå®Œå…¨ä¸€è‡´) ---
const rawData = [
    { url: "https://gitee.com/ononon17/interface-layout/raw/master/%E5%A4%A7%E7%90%863.mov", desc: "å¦‚æœå¯ä»¥ï¼Œä½ æƒ³å’Œè°ä¸€èµ·æ¥å¤§ç†å¹å¹é£ï¼ŸğŸŒ¬ï¸" },
    { url: "https://gitee.com/ononon17/interface-layout/raw/master/%E5%A4%A7%E7%90%861.mov", desc: "è®²çœŸï¼Œçœ‹åˆ°è¿™ç‰‡äº‘ï¼Œä½ çš„å¿ƒæƒ…å˜å¥½äº†å—ï¼Ÿâ˜ï¸" },
    { url: "https://gitee.com/ononon17/interface-layout/raw/master/%E5%A4%A7%E7%90%8610.mov", desc: "è¿™ç§æ…¢èŠ‚å¥çš„å¤é•‡ç”Ÿæ´»ï¼Œæ˜¯ä½ å‘å¾€çš„å—ï¼ŸğŸµ" },
    { url: "https://gitee.com/ononon17/interface-layout/raw/master/%E5%A4%A7%E7%90%862.mov", desc: "ä½ æœ‰å¤šä¹…æ²¡æœ‰ç»™è‡ªå·±æ”¾ä¸ªå‡äº†ï¼Ÿâœˆï¸" },
    { url: "https://gitee.com/ononon17/interface-layout/raw/master/%E5%A4%A7%E7%90%864.mov", desc: "çŒœçŒœè¿™æ˜¯å¤§ç†çš„å“ªä¸ªè§’è½ï¼Ÿå»è¿‡çš„ä¸¾æ‰‹ğŸ™‹" },
    { url: "https://gitee.com/ononon17/interface-layout/raw/master/%E5%A4%A7%E7%90%865.MOV", desc: "è¿™ç§å¤©æ°”ï¼Œæœ€é€‚åˆå‘å‘†äº†ï¼Œä½ è§‰å¾—å‘¢ï¼Ÿâ˜€ï¸" },
    { url: "https://gitee.com/ononon17/interface-layout/raw/master/%E5%A4%A7%E7%90%866.mov", desc: "å¦‚æœç”Ÿæ´»å¤ªç´¯ï¼Œå°±æ¥è¿™é‡Œèº²ä¸€èº²å§ğŸ " },
    { url: "https://gitee.com/ononon17/interface-layout/raw/master/%E5%A4%A7%E7%90%867.mov", desc: "è¿™é‡Œçš„æ—¥è½æ˜¯ä¸æ˜¯å¾ˆæ²»æ„ˆï¼ŸğŸŒ„" },
    { url: "https://gitee.com/ononon17/interface-layout/raw/master/%E5%A4%A7%E7%90%868.MOV", desc: "å¬ï¼Œè¿™æ˜¯å¤§ç†çš„å£°éŸ³ï¼Œä½ å–œæ¬¢å—ï¼ŸğŸŒŠ" },
    { url: "https://gitee.com/ononon17/interface-layout/raw/master/%E5%A4%A7%E7%90%869.mov", desc: "ç­”åº”æˆ‘ï¼Œè¿™è¾ˆå­ä¸€å®šè¦å»ä¸€æ¬¡å¤§ç†å¥½å—ï¼ŸğŸ¤" },
    { url: "https://gitee.com/ononon17/interface-layout/raw/master/%E5%AE%A0%E7%89%A91.mov", desc: "å®ƒçš„çœ¼ç¥æœ‰æ²¡æœ‰èåŒ–ä½ çš„å¿ƒï¼Ÿå¤ªä¹–äº†ğŸ¥º" },
    { url: "https://gitee.com/ononon17/interface-layout/raw/master/%E5%AE%A0%E7%89%A92.mov", desc: "æˆ‘å°±é—®ä¸€å¥ï¼Œè°èƒ½æ‹’ç»è¿™æ ·çš„å°ç‹—ï¼ŸğŸ¶" },
    { url: "https://gitee.com/ononon17/interface-layout/raw/master/%E5%AE%A0%E7%89%A93.mov", desc: "ä¸Šç­ç´¯äº†ï¼Ÿçœ‹è¿™ä¸ªè§†é¢‘å›å›è¡€ğŸ”‹" },
    { url: "https://gitee.com/ononon17/interface-layout/raw/master/%E5%AE%A0%E7%89%A94.mov", desc: "ä½ æ˜¯çŒ«æ´¾è¿˜æ˜¯ç‹—æ´¾ï¼Ÿè¯„è®ºåŒºå‘Šè¯‰æˆ‘ğŸ±ğŸ¶" },
    { url: "https://gitee.com/ononon17/interface-layout/raw/master/%E6%89%8B%E5%B7%A51.mov", desc: "è¿™ç§ä¸“æ³¨çš„æ„Ÿè§‰ï¼Œä½ ç¾¡æ…•å—ï¼ŸğŸ§¶" },
    { url: "https://gitee.com/ononon17/interface-layout/raw/master/%E6%89%8B%E5%B7%A52.mov", desc: "çŒœçŒœæœ€åæˆå“ä¼šæ˜¯ä»€ä¹ˆæ ·å­ï¼ŸğŸ¤”" },
    { url: "https://gitee.com/ononon17/interface-layout/raw/master/%E6%89%8B%E5%B7%A53.mov", desc: "å‘¨æœ«å®…å®¶åšæ‰‹å·¥ï¼Œæ˜¯ä¸æ˜¯å¾ˆè§£å‹ï¼Ÿâœ‚ï¸" },
    { url: "https://gitee.com/ononon17/interface-layout/raw/master/%E8%A7%A3%E5%8E%8B1.mov", desc: "å¼ºè¿«ç—‡è¡¨ç¤ºçœ‹å®Œè¿™ä¸ªè§†é¢‘æåº¦èˆ’é€‚ï¼âœ¨" },
    { url: "https://gitee.com/ononon17/interface-layout/raw/master/%E8%A7%A3%E5%8E%8B2.mov", desc: "è¿™ç§ä¸æ»‘çš„æ„Ÿè§‰ï¼Œèƒ½ä¸èƒ½æ²»å¥½ä½ çš„ç²¾ç¥å†…è€—ï¼ŸğŸ§ " },
    { url: "https://gitee.com/ononon17/interface-layout/raw/master/%E8%A7%A3%E5%8E%8B3.mov", desc: "æ·±å¤œç¡ä¸ç€ï¼Ÿçœ‹è¿™ä¸ªè§†é¢‘åŠ©çœ å§ğŸ˜´" }
];

const adData = [
    { url: "https://gitee.com/ononon17/interface-layout/raw/master/%E6%89%8B%E8%A1%A8.mov", desc: "éƒ½åœ¨é—®é“¾æ¥ï¼Ÿè¿™æ¬¾è¡¨çš„è®¾è®¡æ„ŸçœŸçš„ç»äº†âœ¨", adProduct: "W" },
    { url: "